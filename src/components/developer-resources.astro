---
import { Icon } from "astro-icon/components";
import { useTranslations, usePageTranslations } from "../i18n/utils";
import type { UILanguages } from "../i18n/ui";

const page_ui: UILanguages = {
  en: {
    "dev.title": "For developers — full technical docs",
    "dev.description":
      "Complete API reference, webhook specifications, and intent configuration for building custom integrations and advanced workflows.",
    "dev.1.title": "Message Endpoint API",
    "dev.1.desc":
      "Send messages programmatically and integrate DealDroid into your custom applications, mobile apps, or workflows",
    "dev.1.link": "https://docs.dealdroid.net/thirdparty/endpoint/",
    "dev.2.title": "Receiving Webhooks",
    "dev.2.desc":
      "Get real-time notifications for every message to build custom integrations, track conversations, and trigger automation",
    "dev.2.link": "https://docs.dealdroid.net/thirdparty/receiving-webhook/",
    "dev.3.title": "Intent Webhooks",
    "dev.3.desc":
      "Control bot behavior and trigger third-party API webhooks based on conversation context—generate payment links, update CRM, or automate workflows",
    "dev.3.link": "https://docs.dealdroid.net/thirdparty/intent-webhook/",
  },
  th: {
    "dev.title": "สำหรับนักพัฒนา — เอกสารทางเทคนิคครบถ้วน",
    "dev.description":
      "API อ้างอิง, Webhook และการตั้งค่า Intent สำหรับสร้างการเชื่อมต่อแบบกำหนดเองและเวิร์กโฟลว์ขั้นสูง",
    "dev.1.title": "Message Endpoint API",
    "dev.1.desc":
      "ส่งข้อความผ่านโปรแกรมและรวม DealDroid เข้ากับแอปพลิเคชัน แอปมือถือ หรือเวิร์กโฟลว์ของคุณ",
    "dev.1.link": "https://docs.dealdroid.net/thirdparty/endpoint/",
    "dev.2.title": "Receiving Webhooks",
    "dev.2.desc":
      "รับการแจ้งเตือนแบบเรียลไทม์สำหรับทุกข้อความเพื่อสร้างการเชื่อมต่อ ติดตามการสนทนา และเรียกใช้ระบบอัตโนมัติ",
    "dev.2.link": "https://docs.dealdroid.net/thirdparty/receiving-webhook/",
    "dev.3.title": "ตั้งค่า Intent",
    "dev.3.desc":
      "ควบคุมพฤติกรรมบอทและเรียกใช้ third-party API webhook ตามบริบทการสนทนา—สร้างลิงก์ชำระเงิน อัปเดต CRM หรือสร้างระบบอัตโนมัติ",
    "dev.3.link": "https://docs.dealdroid.net/thirdparty/intent-webhook/",
  },
} as const;

const lang = Astro.currentLocale || "en";
const t = useTranslations(lang);
const p = usePageTranslations(lang, page_ui);

const resources = [
  { icon: "fluent:code-24-regular", key: "1" },
  { icon: "fluent:alert-24-regular", key: "2" },
  { icon: "fluent:brain-circuit-24-regular", key: "3" },
];
---

<div class="py-20 mt-16">
  <div class="max-w-6xl mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-3xl lg:text-4xl font-bold mb-4">
        {p("dev.title")}
      </h2>
      <p class="text-lg text-slate-600 max-w-2xl mx-auto">
        {p("dev.description")}
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-6">
      {
        resources.map((r) => (
          <a
            href={p(`dev.${r.key}.link`)}
            target="_blank"
            rel="noopener noreferrer"
            class="flex flex-col p-6 bg-white border border-slate-200 rounded-lg hover:border-indigo-300 hover:shadow-lg transition-all group">
            <div class="flex items-center gap-3 mb-3">
              <div class="flex items-center justify-center w-10 h-10 bg-indigo-50 rounded-lg group-hover:bg-indigo-100 transition-colors">
                <Icon name={r.icon} class="text-indigo-600" size="20" />
              </div>
              <h3 class="text-lg font-semibold text-slate-900 group-hover:text-indigo-600 transition-colors">
                {p(`dev.${r.key}.title`)}
              </h3>
            </div>
            <p class="text-slate-600 text-sm leading-relaxed mb-3">
              {p(`dev.${r.key}.desc`)}
            </p>
            <div class="mt-auto flex items-center gap-2 text-indigo-600 text-sm font-medium">
              View docs
              <Icon
                name="fluent:arrow-right-24-regular"
                size="16"
                class="group-hover:translate-x-1 transition-transform"
              />
            </div>
          </a>
        ))
      }
    </div>
  </div>
</div>

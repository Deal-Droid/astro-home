---
import Badge from '@components/ui/badge.astro';
import { Picture } from 'astro:assets';
import FeatureImg1 from '../assets/features/6.png';
import FeatureImg2 from '../assets/features/2.png';
import { Icon } from 'astro-icon/components';
import Link from '@components/ui/link.astro';

const { nomargin } = Astro.props;

import { useTranslations, usePageTranslations } from '../i18n/utils';

import type { UILanguages } from '../i18n/ui';

const mainFeature = {
  th: {
    'feature.tag': 'ทำไมต้อง Deal Droid',
    'feature.title': 'AI Chatbot ที่พร้อมช่วยขาย เริ่มได้ทันที',
    'feature.description':
      'เปลี่ยนบทสนทนาให้เป็นยอดขาย ด้วย AI ที่เข้าใจลูกค้าได้ลึกกว่าที่เคย ทั้งเรียนรู้จากข้อความเก่า วิเคราะห์ความต้องการ และตอบคำถามอย่างแม่นยำ ไม่เพียงแค่ช่วยให้คุณตั้งค่าบอทง่ายๆ แต่ยังช่วยให้ทีมของคุณจัดการลูกค้าได้อย่างมีประสิทธิภาพ แม้ในเวลางานยุ่ง',
  },
  en: {
    'feature.tag': 'Why Deal Droid ?',
    'feature.title':
      'An AI Chatbot That Drives Sales and Simplifies Your Business',
    'feature.description':
      'Transform conversations into conversions with AI that deeply understands your customers. It learns from past chats, identifies needs, and delivers precise answers. From effortless setup to seamless customer handling, our AI empowers your team to manage inquiries efficiently, even during the busiest times.',
  },
};

const feature1 = {
  th: {
    'feature_1.tag': 'Smart Feature',
    'feature_1.title': 'ตั้งค่าง่าย ไม่ต้องมีทักษะเทคนิค',
    'feature_1.description':
      'ลืมการตั้งค่าที่ซับซ้อน เพียงให้ตัวอย่างการสนทนาไม่กี่ครั้ง AI จะเรียนรู้และตอบลูกค้าอย่างเป็นธรรมชาติ เข้าใจสินค้า และปรับให้เหมาะกับแบรนด์ของคุณ',
    'feature_1.first': 'เข้าใจสินค้าได้รวดเร็ว',
    'feature_1.second': 'พูดคุยในสไตล์แบรนด์ของคุณ',
    'feature_1.third': 'เปิดใช้งานเฉพาะฟีเจอร์ที่คุณต้องการ',
  },
  en: {
    'feature_1.tag': 'Smart Feature',
    'feature_1.title': 'Effortless Setup—No Tech Skills Needed',
    'feature_1.description':
      "Say goodbye to complicated setups. Just provide a few sample chats, and our AI learns to respond naturally, understanding your products and adopting your brand's style.",
    'feature_1.first': 'Quickly understands your product catalog',
    'feature_1.second': 'Adapts to your unique brand tone',
    'feature_1.third': 'Activate only the features that suit your business',
  },
};

const feature2 = {
  th: {
    'feature_2.tag': 'Great Benefit',
    'feature_2.title': 'เพิ่มยอดขายด้วยการสนับสนุน AI อัจฉริยะ 24/7',
    'feature_2.description':
      'เมื่อโฆษณาของคุณได้ผล ทีมงานอาจไม่ทันรับข้อความทุกอัน แต่ AI ของเราจะช่วยจัดการให้ไม่พลาดการขาย แม้ในช่วงเวลาที่งานยุ่งที่สุด',
    'feature_2.first': 'ช่วยตอบลูกค้าทุกประเภท',
    'feature_2.second': 'จัดการคำถามเกี่ยวกับสินค้าได้ง่ายดาย',
    'feature_2.third': 'ตอบเร็วในช่วงเทศกาล ช่วยให้การขายราบรื่น',
  },
  en: {
    'feature_2.tag': 'Great Benefit',
    'feature_2.title': 'Sell More with 24/7 Smart AI Support',
    'feature_2.description':
      'When your ads work, your team might get overwhelmed with messages. Our AI steps in to manage the flow, making sure no sales are missed, even at peak times.',
    'feature_2.first': 'Assists customers with all types of inquiries',
    'feature_2.second': 'Handles complex product questions effortlessly',
    'feature_2.third':
      'Provides quick, context-aware responses during busy seasons',
  },
};

const page_ui: UILanguages = {
  th: {
    ...mainFeature.th,
    ...feature1.th,
    ...feature2.th,
    'feature.cta': 'ทดสอบระบบ ฟรี',
    'feature.contact': 'ติดต่อฝ่ายขาย',
  },
  en: {
    ...mainFeature.en,
    ...feature1.en,
    ...feature2.en,
    'feature.cta': 'Try for Free',
    'feature.contact': 'Contact Sales',
  },
} as const;

const lang = Astro.currentLocale || 'en';
const t = useTranslations(lang);
const p = usePageTranslations(lang, page_ui);
---

<div
  class:list={[
    'max-w-4xl mx-auto flex flex-col items-center justify-center',
    !nomargin && 'mt-24',
  ]}>
  <Badge color="purple">{p('feature.tag')}</Badge>
  <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight mt-4 text-center">
    {p('feature.title')}
  </h2>
  <p class="text-lg mt-4 text-slate-600 text-center [text-wrap:pretty]">
    {p('feature.description')}
  </p>
</div>

<div class="grid md:grid-cols-2 py-10">
  <div class="grid place-items-center">
    <Picture
      src={FeatureImg1}
      alt="Feature Image"
      formats={['avif', 'webp']}
      loading="lazy"
    />
  </div>

  <div class="grid place-items-center">
    <div class="max-w-lg">
      <Badge
        color="purple"
        class="-ml-px"
        >{p('feature_1.tag')}</Badge
      >
      <h3 class="text-2xl font-medium mt-4 [text-wrap:balance]">
        {p('feature_1.title')}
      </h3>
      <p class="mt-4 text-slate-600 [text-wrap:balance]">
        {p('feature_1.description')}
      </p>

      <ul class="grid mt-6 text-left gap-y-4">
        <li class="flex items-center gap-3 text-neutral-800">
          <Icon
            name="ph:check-circle-fill"
            class="w-5 h-5"
          />

          <span class="text-sm">{p('feature_1.first')}</span>
        </li>

        <li class="flex items-center gap-3 text-neutral-800">
          <Icon
            name="ph:check-circle-fill"
            class="w-5 h-5"
          />

          <span class="text-sm">{p('feature_1.second')}</span>
        </li>

        <li class="flex items-center gap-3 text-neutral-800">
          <Icon
            name="ph:check-circle-fill"
            class="w-5 h-5"
          />

          <span class="text-sm">{p('feature_1.third')}</span>
        </li>
      </ul>
      <div class="flex items-center gap-4 mt-6">
        <Link
          href="https://app.dealdroid.net/register/"
          size="sm"
          class="inline-flex items-center group gap-px">
          <span>{p('feature.cta')}</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
            class="w-4 h-4 mt-px group-hover:translate-x-1 transition-transform">
            <path
              fill-rule="evenodd"
              d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </Link>
        <a
          href="mailto:apirakb@gmail.com"
          class="text-sm px-2 transition py-1 text-slate-600 hover:text-indigo-600 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 focus-visible:outline-none focus-visible:shadow-outline-indigo rounded-full">
          {p('feature.contact')}</a
        >
      </div>
    </div>
  </div>
</div>

<div class="grid md:grid-cols-2 py-10">
  <div class="grid place-items-center pb-10 md:pb-0 md:order-2">
    <Picture
      src={FeatureImg2}
      alt="Feature Image"
      formats={['avif', 'webp']}
      loading="lazy"
    />
  </div>

  <div class="grid place-items-center">
    <div class="max-w-lg">
      <Badge
        color="purple"
        class="-ml-px"
        >{p('feature_2.tag')}</Badge
      >
      <h3 class="text-2xl font-medium mt-4 [text-wrap:balance]">
        {p('feature_2.title')}
      </h3>
      <p class="mt-4 text-slate-600 [text-wrap:balance]">
        {p('feature_2.description')}
      </p>
      <ul class="grid mt-6 text-left gap-y-4">
        <li class="flex items-center gap-3 text-neutral-800">
          <Icon
            name="ph:check-circle-fill"
            class="w-5 h-5"
          />

          <span class="text-sm">{p('feature_2.first')}</span>
        </li>
        <li class="flex items-center gap-3 text-neutral-800">
          <Icon
            name="ph:check-circle-fill"
            class="w-5 h-5"
          />

          <span class="text-sm">{p('feature_2.second')}</span>
        </li>
        <li class="flex items-center gap-3 text-neutral-800">
          <Icon
            name="ph:check-circle-fill"
            class="w-5 h-5"
          />

          <span class="text-sm">{p('feature_2.third')}</span>
        </li>
      </ul>
      <div class="flex items-center gap-4 mt-6">
        <Link
          href="https://app.dealdroid.net/register/"
          size="sm"
          class="inline-flex items-center group gap-px">
          <span>{p('feature.cta')}</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            fill="currentColor"
            class="w-4 h-4 mt-px group-hover:translate-x-1 transition-transform">
            <path
              fill-rule="evenodd"
              d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"
              clip-rule="evenodd"
            ></path>
          </svg>
        </Link>
        <a
          href="mailto:apirakb@gmail.com"
          class="text-sm px-2 transition py-1 text-slate-600 hover:text-indigo-600 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-indigo-500 focus-visible:outline-none focus-visible:shadow-outline-indigo rounded-full"
          >{p('feature.contact')}</a
        >
      </div>
    </div>
  </div>
</div>

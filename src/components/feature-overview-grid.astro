---
import { Icon } from "astro-icon/components";
import { useTranslations, usePageTranslations } from "../i18n/utils";
import type { UILanguages } from "../i18n/ui";

const page_ui: UILanguages = {
  en: {
    "overview.title": "Everything you need to scale customer conversations",
    "feature.1.title": "Intelligent Message Handling",
    "feature.1.desc":
      "Controls conversation flow naturally. Understands customer images, waits for complete thoughts before replying, and consolidates multiple questions into one helpful answer — never annoying",
    "feature.2.title": "Product Intelligence",
    "feature.2.desc":
      "Scales to thousands of SKUs with visual recognition. Understands product images and can pull up the exact product photos during conversations",
    "feature.3.title": "Knowledge Base",
    "feature.3.desc":
      "Create rich documentation with images, links, and formatting. AI understands images within documents. PDF support coming soon",
    "feature.4.title": "Smart Fallbacks",
    "feature.4.desc":
      "Define exactly when to pause AI and escalate to humans. Gives you true control over conversation boundaries and handoffs",
    "feature.5.title": "Multi-language",
    "feature.5.desc":
      "Auto-detects customer language and replies naturally in that language. Built-in validation checks response accuracy",
    "feature.6.title": "Third-party Integrations",
    "feature.6.desc":
      "Connect external systems via webhooks. AI can send data out and receive dynamic responses from your CRM, orders, or inventory systems",
    "feature.7.title": "Testing Tools",
    "feature.7.desc": "Automated regression tests prevent breaking changes",
    "feature.8.title": "Admin Tools",
    "feature.8.desc": "Team roles, transcripts, and brand voice editor",
    "feature.9.title": "Security & Compliance",
    "feature.9.desc": "Role-based access, audit logs, encrypted webhooks",
  },
  th: {
    "overview.title": "ทุกสิ่งที่คุณต้องการเพื่อขยายการสนทนากับลูกค้า",
    "feature.1.title": "การจัดการข้อความอัจฉริยะ",
    "feature.1.desc":
      "คุมการสนทนาให้ลื่นไหล เข้าใจภาพที่ลูกค้าส่งมา ไม่ได้ตอบทุกข้อความ แต่สามารถรวบคำถามหลายข้อแล้วตอบที่เดียวได้ — ไม่น่ารำคาญเลย",
    "feature.2.title": "ระบบสินค้าอัจฉริยะ",
    "feature.2.desc":
      "รองรับ SKU ได้เป็นพันรายการ เข้าใจรูปของสินค้า สามารถดึงภาพสินค้าที่ตรงกับคำถามขึ้นมาคุยกับลูกค้าได้",
    "feature.3.title": "ฐานความรู้",
    "feature.3.desc":
      "ทำเอกสารความรู้แบบ rich text ได้ ใส่รูปภาพได้ ใส่ link ได้ AI เข้าใจภาพในเอกสาร (รองรับ PDF เร็วๆ นี้)",
    "feature.4.title": "ตัวสำรอง Smart",
    "feature.4.desc":
      "กำหนดได้ว่าจะให้ AI หยุดเมื่อไหร่ ให้ทักหาคนเมื่อไหร่ ทำให้คุมบทสนทนาได้จริง ไม่ปล่อยให้ AI ตอบเกินขอบเขต",
    "feature.5.title": "หลายภาษา",
    "feature.5.desc":
      "รู้เองว่าลูกค้าใช้ภาษาอะไร และตอบในภาษานั้นอย่างเป็นธรรมชาติ มีระบบตรวจสอบว่าคำตอบถูกต้องหรือไม่",
    "feature.6.title": "เชื่อมต่อระบบภายนอก",
    "feature.6.desc":
      "เชื่อมต่อระบบภายนอกผ่าน webhook ส่งข้อมูลออกและรับคำตอบแบบไดนามิกจาก CRM คำสั่งซื้อ หรือระบบสต็อกของคุณได้",
    "feature.7.title": "เครื่องมือทดสอบ",
    "feature.7.desc": "ทดสอบอัตโนมัติป้องกันความเสียหาย",
    "feature.8.title": "เครื่องมือแอดมิน",
    "feature.8.desc": "บทบาททีม บันทึกแชท และแก้น้ำเสียงแบรนด์",
    "feature.9.title": "ความปลอดภัย",
    "feature.9.desc": "ควบคุมสิทธิ์ บันทึกการตรวจสอบ webhook เข้ารหัส",
  },
} as const;

const lang = Astro.currentLocale || "en";
const t = useTranslations(lang);
const p = usePageTranslations(lang, page_ui);

const features = [
  {
    icon: "fluent:chat-bubbles-question-24-regular",
    key: "1",
    link: "https://docs.dealdroid.net/tuning/when-ai-think/",
  },
  {
    icon: "fluent:box-search-24-regular",
    key: "2",
    link: "https://docs.dealdroid.net/tuning/add-product/",
  },
  {
    icon: "fluent:book-open-24-regular",
    key: "3",
    link: "https://docs.dealdroid.net/tuning/add-knowledge/",
  },
  {
    icon: "fluent:branch-24-regular",
    key: "4",
    link: "https://docs.dealdroid.net/tuning/add-intent/",
  },
  {
    icon: "fluent:translate-24-regular",
    key: "5",
    link: "https://docs.dealdroid.net/faq/language-support/",
  },
  {
    icon: "fluent:puzzle-piece-24-regular",
    key: "6",
    link: "https://docs.dealdroid.net/thirdparty/endpoint/",
  },
  {
    icon: "fluent:beaker-24-regular",
    key: "7",
    link: "https://docs.dealdroid.net/getting-started/testing/",
  },
  {
    icon: "fluent:settings-24-regular",
    key: "8",
    link: "https://docs.dealdroid.net/tuning/brand-voice/",
  },
  {
    icon: "fluent:shield-checkmark-24-regular",
    key: "9",
    link: "https://docs.dealdroid.net/faq/language-support/",
  },
];
---

<div class="mt-16 mb-32">
  <h2 class="text-3xl lg:text-4xl font-bold text-center mb-12">
    {p("overview.title")}
  </h2>
  <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10">
    {
      features.map((f) => (
        <a
          href={f.link}
          target="_blank"
          rel="noopener noreferrer"
          class="flex flex-col items-start p-6 border border-slate-200 rounded-lg hover:border-indigo-300 hover:shadow-lg transition-all group no-underline">
          <div class="flex items-center justify-center w-12 h-12 bg-indigo-50 rounded-lg mb-4 group-hover:bg-indigo-100 transition-colors">
            <Icon name={f.icon} class="text-indigo-600" size="24" />
          </div>
          <h3 class="text-xl font-semibold text-slate-900 mb-2">
            {p(`feature.${f.key}.title`)}
          </h3>
          <p class="text-slate-600 leading-relaxed">
            {p(`feature.${f.key}.desc`)}
          </p>
        </a>
      ))
    }
  </div>
</div>
